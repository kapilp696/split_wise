<div class="container-fluid w-50 shadow mt-5 rounded border p-4 bg">
  <h1>Manage Members for <%= @group.name %></h1>
  <h3>Add Members</h3>
  <%= form_with url: add_members_group_path(@group), method: :post do %>
    <% @users.each do |user| %>
      <% if !(user.groups.include?(@group)) %>
        <div class="m-2">
          <%= check_box_tag "user_ids[]", user.id, @group.users.include?(user) %>
          <%= label_tag user.email %>
        </div>
      <% end %>
    <% end %>
    <div class="actions">
      <%= submit_tag "Add Members", class: "text-light btn btn-sm btn-dark" %>
    </div>
  <% end %>

  <h3>Current Members</h3>
  <ul>
    <% @group.users.each do |user| %>
      <li class="m-2">
        <%= user.email %>
        <%= link_to "Remove", remove_member_group_path(@group, user.id), data: {turbo_method: :delete, turbo_confirm: "Are you sure?" }, class: "text-light btn btn-dark" %>
      </li>
    <% end %>
  </ul>

  <%= link_to 'Back', group_path(@group) %>
</div>